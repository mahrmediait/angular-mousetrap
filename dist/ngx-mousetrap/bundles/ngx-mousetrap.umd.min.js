!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("mousetrap")):"function"==typeof define&&define.amd?define("ngx-mousetrap",["exports","@angular/core","rxjs","rxjs/operators","mousetrap"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-mousetrap"]={},e.ng.core,e.rxjs,e.rxjs.operators,e.Mousetrap)}(this,(function(e,t,r,o,s){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var a=n(s),p=function(){function e(){var e=this;this.scopedMouseTrap=new WeakMap,this.keyMap=new Map,this.paused=!1,this.mousetrap=new a;var t=this.mousetrap.stopCallback;this.mousetrap.stopCallback=function(r,o,s){return!!e.paused||t.apply(e.mousetrap,[r,o,s])}}return e.prototype.register=function(e,t){if(!e)return r.EMPTY;var s=this.keyMap,n=this.mousetrap;if(t&&(this.scopedMouseTrap.has(t)?(n=this.scopedMouseTrap.get(t).mousetrap,s=this.scopedMouseTrap.get(t).keyMap):(s=new Map,n=new a(t),this.scopedMouseTrap.set(t,{keyMap:s,mousetrap:n}))),s.has(e))return s.get(e).handler$.asObservable().pipe(o.throttleTime(300));var p=new r.Subject,u=e.split("|").map((function(e){return e.trim()}));n.bind(u,(function(e,t){p.next({key:t,event:e})}));var i={handler$:p};return s.set(e,i),p.asObservable().pipe(o.throttleTime(300))},e.prototype.unregister=function(e){var t=this;void 0===e&&(e=null);for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=this.mousetrap,n=this.keyMap,a=r;e&&this.scopedMouseTrap.has(e)&&(s=this.scopedMouseTrap.get(e).mousetrap,n=this.scopedMouseTrap.get(e).keyMap,r&&0!==r.length||(a=Array.from(this.scopedMouseTrap.get(e).keyMap.keys()))),a&&0!==a.length&&a.forEach((function(e){return t._unregister(e,s,n)}))},e.prototype._unregister=function(e,t,r){(t.unbind(e),r.has(e))&&(r.get(e).handler$.complete(),r.delete(e))},e}();p.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new p},token:p,providedIn:"root"}),p.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],p.ctorParameters=function(){return[]};var u=function(){function e(e,r){this.elementRef=e,this.ngxMousetrapService=r,this.mousetrapKeyPressed=new t.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.ngxMousetrapKey?this.ngxMousetrapService.register(this.ngxMousetrapKey).subscribe((function(t){e.suppressAutoClick||e.elementRef.nativeElement.dispatchEvent(new Event("click")),e.mousetrapKeyPressed.emit(t)})):console.error("No hotkey available for "+this.elementRef.nativeElement)},e.prototype.ngOnDestroy=function(){this.ngxMousetrapKey&&this.ngxMousetrapService.unregister(null,this.ngxMousetrapKey)},e}();u.decorators=[{type:t.Directive,args:[{selector:"[ngxMousetrapKey]"}]}],u.ctorParameters=function(){return[{type:t.ElementRef},{type:p}]},u.propDecorators={ngxMousetrapKey:[{type:t.Input}],suppressAutoClick:[{type:t.Input}],mousetrapKeyPressed:[{type:t.Output}]};var i=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[p]}},e}();i.decorators=[{type:t.NgModule,args:[{declarations:[u],imports:[],exports:[u],providers:[p]}]}],e.NgxMousetrapDirective=u,e.NgxMousetrapModule=i,e.NgxMousetrapService=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-mousetrap.umd.min.js.map